<div class="container mx-auto px-4 py-8">
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-2xl font-bold"><?= $title ?></h1>
        <a href="<?= route('projects.index') ?>" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded">
            Back to Projects
        </a>
    </div>

    <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
        <form action="<?= route('projects.update', ['id' => $project->id]) ?>" method="post">
            <input type="hidden" name="id" value="<?= $project->id ?>">
            
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="name">
                    Project Name
                </label>
                <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline <?= isset($errors['name']) ? 'border-red-500' : '' ?>" 
                    id="name" type="text" name="name" placeholder="Project Name" value="<?= $project->name ?? '' ?>">
                <?php if (isset($errors['name'])) : ?>
                    <p class="text-red-500 text-xs italic"><?= $errors['name'] ?></p>
                <?php endif; ?>
            </div>

            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="description">
                    Description
                </label>
                <textarea class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline <?= isset($errors['description']) ? 'border-red-500' : '' ?>" 
                    id="description" name="description" placeholder="Project Description" rows="4"><?= $project->description ?? '' ?></textarea>
                <?php if (isset($errors['description'])) : ?>
                    <p class="text-red-500 text-xs italic"><?= $errors['description'] ?></p>
                <?php endif; ?>
            </div>

            <div class="mb-4 flex flex-wrap -mx-2">
                <div class="w-full md:w-1/2 px-2 mb-4 md:mb-0">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="start_date">
                        Start Date
                    </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline <?= isset($errors['start_date']) ? 'border-red-500' : '' ?>" 
                        id="start_date" type="date" name="start_date" value="<?= $project->start_date ? date('Y-m-d', strtotime($project->start_date)) : '' ?>">
                    <?php if (isset($errors['start_date'])) : ?>
                        <p class="text-red-500 text-xs italic"><?= $errors['start_date'] ?></p>
                    <?php endif; ?>
                </div>
                <div class="w-full md:w-1/2 px-2">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="end_date">
                        End Date
                    </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline <?= isset($errors['end_date']) ? 'border-red-500' : '' ?>" 
                        id="end_date" type="date" name="end_date" value="<?= $project->end_date ? date('Y-m-d', strtotime($project->end_date)) : '' ?>">
                    <?php if (isset($errors['end_date'])) : ?>
                        <p class="text-red-500 text-xs italic"><?= $errors['end_date'] ?></p>
                    <?php endif; ?>
                </div>
            </div>

            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="status">
                    Status
                </label>
                <select class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline <?= isset($errors['status']) ? 'border-red-500' : '' ?>" 
                    id="status" name="status">
                    <option value="In Progress" <?= isset($project->status) && $project->status === 'In Progress' ? 'selected' : '' ?>>In Progress</option>
                    <option value="Completed" <?= isset($project->status) && $project->status === 'Completed' ? 'selected' : '' ?>>Completed</option>
                    <option value="Canceled" <?= isset($project->status) && $project->status === 'Canceled' ? 'selected' : '' ?>>Canceled</option>
                </select>
                <?php if (isset($errors['status'])) : ?>
                    <p class="text-red-500 text-xs italic"><?= $errors['status'] ?></p>
                <?php endif; ?>
            </div>

            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="budget">
                    Budget
                </label>
                <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline <?= isset($errors['budget']) ? 'border-red-500' : '' ?>" 
                    id="budget" type="number" step="0.01" name="budget" placeholder="Project Budget" value="<?= $project->budget ?? '' ?>">
                <?php if (isset($errors['budget'])) : ?>
                    <p class="text-red-500 text-xs italic"><?= $errors['budget'] ?></p>
                <?php endif; ?>
            </div>

            <div class="flex items-center justify-between">
                <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
                    Update Project
                </button>
            </div>
        </form>
    </div>
</div>
