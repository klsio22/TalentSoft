<div class="container mx-auto px-4 py-8">
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-2xl font-bold"><?= $title ?></h1>
        <a href="<?= route('notifications.admin') ?>" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded">
            Back to Notifications
        </a>
    </div>

    <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
        <form action="<?= route('notifications.store') ?>" method="post">
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="employee_id">
                    Employee
                </label>
                <select class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline <?= isset($errors['employee_id']) ? 'border-red-500' : '' ?>" 
                    id="employee_id" name="employee_id" required>
                    <option value="">Select Employee</option>
                    <?php foreach ($employees as $employee) : ?>
                        <option value="<?= $employee->id ?>" <?= isset($notification->employee_id) && $notification->employee_id == $employee->id ? 'selected' : '' ?>>
                            <?= htmlspecialchars($employee->name) ?>
                        </option>
                    <?php endforeach; ?>
                </select>
                <?php if (isset($errors['employee_id'])) : ?>
                    <p class="text-red-500 text-xs italic"><?= $errors['employee_id'] ?></p>
                <?php endif; ?>
            </div>

            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="title">
                    Title
                </label>
                <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline <?= isset($errors['title']) ? 'border-red-500' : '' ?>" 
                    id="title" type="text" name="title" placeholder="Notification Title" value="<?= $notification->title ?? '' ?>" required>
                <?php if (isset($errors['title'])) : ?>
                    <p class="text-red-500 text-xs italic"><?= $errors['title'] ?></p>
                <?php endif; ?>
            </div>

            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="message">
                    Message
                </label>
                <textarea class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline <?= isset($errors['message']) ? 'border-red-500' : '' ?>" 
                    id="message" name="message" placeholder="Notification Message" rows="4" required><?= $notification->message ?? '' ?></textarea>
                <?php if (isset($errors['message'])) : ?>
                    <p class="text-red-500 text-xs italic"><?= $errors['message'] ?></p>
                <?php endif; ?>
            </div>

            <div class="flex items-center justify-between">
                <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
                    Create Notification
                </button>
            </div>
        </form>
    </div>
</div>
